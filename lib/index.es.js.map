{"version":3,"file":"index.es.js","sources":["../src/EditorContext.ts","../src/components/Overlay.tsx","../src/components/OverlayMenu.tsx","../src/contextMenuItems.ts","../src/ContextMenu.tsx","../src/components/OverlayInput.tsx","../src/EditorInput.tsx","../src/editor/style.js","../src/utils/base.js","../src/nodeModules/baseNode.js","../src/utils/drawText.js","../src/nodeShape/expandNode.js","../src/nodeModules/expandNode.js","../src/nodeShape/resultNode.js","../src/nodeModules/resultNode.js","../src/nodeModules/index.js","../src/nodeShape/placeholderNode.js","../src/nodeShape/index.js","../src/behavior/edContextmenu.js","../src/behavior/edClickSelect.js","../src/behavior/edEdit.js","../src/behavior/edResultEdit.js","../src/behavior/edShortcut.js","../src/behavior/edDragNode.js","../src/behavior/index.js","../src/editor/index.js","../src/TreeEditor.tsx"],"sourcesContent":["import React from 'react';\n\nconst EditorContext = React.createContext<any>({} as any);\n\nexport default EditorContext;\n","import React from 'react';\n\ninterface OverlayProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n  visible: boolean;\n  style?: React.CSSProperties;\n}\n\nfunction Overlay(\n  { children, visible, style, ...rest }: OverlayProps,\n  ref: React.Ref<HTMLDivElement>\n) {\n  const display = visible ? 'block' : 'none';\n  const styleObj = {\n    position: 'absolute' as 'absolute',\n    display,\n    ...style\n  };\n  return (\n    <div style={styleObj} {...rest} ref={ref}>\n      {children}\n    </div>\n  );\n}\n\nexport default React.forwardRef(Overlay);\n","import React, { useEffect, useRef } from 'react';\nimport Menu, { ClickParam } from 'antd/es/menu';\nimport 'antd/es/menu/style/index.css';\nimport 'antd/es/dropdown/style/index.css';\nimport Overlay from './Overlay';\n\nexport interface OverlayMenuItem {\n  key: string | number;\n  name?: string;\n  type?: 'Item' | 'Divider';\n  handler?: (editor?: any) => void;\n}\n\nexport interface OverlayMenuProps {\n  placement?: 'bottomLeft' | 'bottomRight';\n  visible: boolean;\n  style: React.CSSProperties;\n  onClose: () => void;\n  onSelect: (key: string) => void;\n  items: OverlayMenuItem[];\n}\n\nfunction OverlayMenu(props: OverlayMenuProps) {\n  const {\n    placement = 'bottomLeft',\n    visible,\n    style,\n    items,\n    onClose,\n    onSelect\n  } = props;\n\n  const placementStyle = {\n    bottomLeft: {},\n    bottomRight: {\n      transform: 'translate(-100%)'\n    }\n  };\n  const innerStyle = {\n    ...style,\n    ...placementStyle[placement]\n  };\n\n  const ref = useRef<HTMLDivElement>(null);\n\n  const handleClick = (evt: ClickParam) => {\n    const key = evt.key;\n    onSelect(key);\n    onClose();\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (evt: Event) => {\n      if (ref.current && !ref.current.contains(evt.target as Node)) {\n        onClose();\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [onClose]);\n\n  const menu = (\n    <Overlay style={innerStyle} visible={visible} ref={ref}>\n      <Menu\n        prefixCls=\"ant-dropdown-menu\"\n        onClick={handleClick}\n        selectable={false}\n      >\n        {items.map(item => {\n          if (item.type === 'Divider') {\n            return <Menu.Divider key={item.key} />;\n          }\n          return <Menu.Item key={item.key}>{item.name}</Menu.Item>;\n        })}\n      </Menu>\n    </Overlay>\n  );\n  return menu;\n}\n\nexport default React.memo(OverlayMenu);\n","import { OverlayMenuItem } from './components/OverlayMenu';\n\nexport const contextMenuItems: OverlayMenuItem[] = [\n  {\n    name: '标记为通过',\n    key: 'success',\n    handler: (editor: any) => editor.updateNode({ status: 1 })\n  },\n  {\n    name: '标记为不通过',\n    key: 'fail',\n    handler: (editor: any) => editor.updateNode({ status: 2 })\n  },\n  {\n    name: '标记为受阻',\n    key: 'block',\n    handler: (editor: any) => editor.updateNode({ status: 3 })\n  },\n  {\n    name: '标记为重测',\n    key: 'retest',\n    handler: (editor: any) => editor.updateNode({ status: 4 })\n  },\n  { type: 'Divider', key: 'divider' },\n  {\n    name: '新增条件',\n    key: 'add-node',\n    handler: (editor: any) => editor.addNode()\n  },\n  {\n    name: '删除节点',\n    key: 'delete-node',\n    handler: (editor: any) => editor.deleteNode()\n  }\n];\n","import React, { useState, useEffect, useContext } from 'react';\nimport OverlayMenu, { OverlayMenuItem } from './components/OverlayMenu';\nimport EditorContext from './EditorContext';\nimport { contextMenuItems } from './contextMenuItems';\n\ninterface ContextMenuProps {\n  items?: OverlayMenuItem[];\n  placement?: 'bottomLeft' | 'bottomRight';\n  event?: string;\n}\n\nfunction ContextMenu({\n  placement = 'bottomLeft',\n  event = 'ed-node-contextmenu',\n  items = contextMenuItems\n}: ContextMenuProps) {\n  const editor = useContext(EditorContext);\n\n  const [visible, setVisible] = useState(false);\n  const [style, setStyle] = useState({});\n\n  const handleMenuSelect = (key: string) => {\n    const item = items.find(v => String(v.key) === key);\n    if (item && typeof item.handler === 'function') {\n      item.handler(editor);\n    }\n  };\n\n  useEffect(() => {\n    editor.on(event, (evt: any) => {\n      setVisible(true);\n      setStyle({ top: evt.y, left: evt.x });\n    });\n  }, [editor, event]);\n\n  return (\n    <OverlayMenu\n      style={style}\n      visible={visible}\n      placement={placement}\n      items={items}\n      onSelect={handleMenuSelect}\n      onClose={() => setVisible(false)}\n    />\n  );\n}\n\nexport default ContextMenu;\n","import React, { useState, KeyboardEvent, useRef, useEffect } from 'react';\nimport TextArea from 'antd/es/input/TextArea';\nimport 'antd/es/input/style/index.css';\nimport Overlay from './Overlay';\n\ninterface OverlayInputProps {\n  visible: boolean;\n  style: React.CSSProperties;\n  value: string;\n  onConfirm: (val: string) => void;\n  onCancel: () => void;\n}\n\nfunction OverlayInput(props: OverlayInputProps) {\n  const { visible, style, value } = props;\n  const textareaRef = useRef<TextArea>(null);\n  const cancelledRef = useRef<boolean>(false);\n  const [innerValue, setInnerValue] = useState(value);\n\n  const handleKeyDown = (evt: KeyboardEvent<HTMLTextAreaElement>) => {\n    // Esc\n    if (evt.keyCode === 27) {\n      setInnerValue(value);\n      cancelledRef.current = true;\n      textareaRef.current!.blur();\n    } else if (evt.keyCode === 13) {\n      if (evt.ctrlKey) {\n        setInnerValue(v => `${v}\\n`);\n      }\n      if (!evt.ctrlKey && !evt.shiftKey) {\n        evt.preventDefault();\n        textareaRef.current!.blur();\n      }\n    }\n  };\n\n  const handleBlur = () => {\n    if (!cancelledRef.current && innerValue !== value) {\n      props.onConfirm(innerValue);\n    }\n    props.onCancel();\n    cancelledRef.current = false;\n  };\n\n  useEffect(() => {\n    if (visible) {\n      setInnerValue(value);\n      textareaRef.current!.focus();\n    }\n  }, [value, visible]);\n\n  const content = (\n    <Overlay style={style} visible={visible}>\n      <TextArea\n        style={{\n          fontSize: '12px',\n          lineHeight: 1.5,\n          overflow: 'hidden'\n        }}\n        ref={textareaRef}\n        autosize\n        value={innerValue}\n        onChange={evt => setInnerValue(evt.currentTarget.value)}\n        onKeyDown={handleKeyDown}\n        onBlur={handleBlur}\n      />\n    </Overlay>\n  );\n  return content;\n}\n\nexport default React.memo(OverlayInput);\n","import React, { useContext, useState, useEffect } from 'react';\nimport OverlayInput from './components/OverlayInput';\nimport EditorContext from './EditorContext';\n\nlet inputKey: string;\n\nfunction EditorInput() {\n  const editor = useContext(EditorContext);\n\n  const [visible, setVisible] = useState(false);\n  const [value, setValue] = useState('');\n  const [style, setStyle] = useState({});\n\n  const handleInputConfirm = (val: string) => {\n    editor.updateNode({ [inputKey]: val });\n  };\n\n  useEffect(() => {\n    editor.setMode(visible ? 'lock' : 'default');\n  }, [editor, visible]);\n\n  useEffect(() => {\n    editor.on('ed-text-edit', (evt: any) => {\n      const { width, height, zoom, x, y } = evt;\n      inputKey = evt.key;\n      setVisible(true);\n      setValue(evt.value);\n      setStyle({\n        width,\n        height,\n        left: x,\n        top: y,\n        transform: `scale(${zoom})`,\n        transformOrigin: 'top left'\n      });\n    });\n  }, [editor]);\n\n  return (\n    <OverlayInput\n      visible={visible}\n      value={value}\n      style={style}\n      onConfirm={handleInputConfirm}\n      onCancel={() => setVisible(false)}\n    />\n  );\n}\n\nexport default EditorInput;\n","export const activeColor = '#1890ff';\n\n// 边的样式\nexport const edgeStyle = {\n  default: {\n    stroke: '#a3b1bf'\n  }\n};\n\n// 节点的样式\nexport const nodeStyle = {\n  default: {\n    stroke: '#a3b1bf',\n    fill: '#fff'\n  },\n  active: {\n    stroke: activeColor\n  }\n};\n\n// 文字的样式\nexport const textStyle = {\n  default: {\n    fontSize: 12,\n    fontFamily: 'sans-serif',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 12 * 1.5,\n    fill: '#666'\n  },\n  active: {\n    fill: activeColor\n  }\n};\n\n// 普通节点的模型\nexport const expandNodeBox = {\n  padding: [5, 12, 5, 12]\n};\n\n// 结果节点的模型\nexport const resultNodeBox = {\n  width: 300,\n  padding: [5, 12, 5, 12],\n  itemMargin: 10,\n  labelWidth: 72\n};\n\n// 占位节点样式 (拖动)\nexport const placeholderNodeStyle = {\n  fill: '#91D5FF'\n};\n\n// 拖拽节点样式\nexport const delegateStyle = {\n  fill: '#F3F9FF',\n  fillOpacity: 0.5,\n  stroke: '#1890FF',\n  strokeOpacity: 0.9,\n  lineDash: [4, 4],\n  radius: 4\n};\n\nexport const statusStyleOptions = [\n  nodeStyle.default,\n  { fill: '#dcf3d0', stroke: '#53c400' },\n  { fill: 'rgba(220,104,83,0.2)', stroke: 'rgba(246,155,155,1)' },\n  { fill: 'rgba(172,172,172,0.2)', stroke: 'rgba(185,185,185,1)' },\n  { fill: 'rgba(255,182,77,0.2)', stroke: 'rgba(255,182,77,1)' }\n];\n","/* eslint-disable no-bitwise */\nexport function guid() {\n  return 'xxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport function traverseTree(fn, data, parent, i) {\n  if (fn(data, parent, i) === false) {\n    return;\n  }\n  if (Array.isArray(data.children)) {\n    data.children.forEach((child, index) => {\n      traverseTree(fn, child, data, index);\n    });\n  }\n}\n","import { guid } from '../utils/base';\n\nexport const baseNodeModule = {\n  name: 'default',\n  // child\n  shouldBeAppend() {\n    return true;\n  },\n\n  // parent\n  shouldAddChild() {\n    return true;\n  },\n\n  getChangeSizeKeys() {\n    return [];\n  },\n  calNodeSize() {\n    return {};\n  },\n  getDefaultData() {\n    return {};\n  },\n  create(data = {}) {\n    const defaultData = {\n      id: guid(),\n      ...this.getDefaultData(),\n      ...data\n    };\n    return Object.assign(defaultData, this.calNodeSize(defaultData));\n  },\n  update(oldValue, value) {\n    const needCalNode = this.getChangeSizeKeys().some(key => {\n      return value[key] !== undefined && value[key] !== oldValue[key];\n    });\n    Object.assign(oldValue, value);\n    const size = needCalNode ? this.calNodeSize(oldValue) : {};\n    return Object.assign(oldValue, size);\n  }\n};\n","const context = document.createElement('canvas').getContext('2d');\n\nfunction getSliceLength(text, maxWidth) {\n  let width = context.measureText(text).width;\n  if (width <= maxWidth) {\n    return { text, width };\n  }\n  // 基本可能的分割长度\n  let len = Math.floor((maxWidth / width) * text.length);\n  let result = text.slice(0, len);\n  width = context.measureText(result).width;\n  while (width <= maxWidth && len < text.length) {\n    result = text.slice(0, ++len);\n    width = context.measureText(result).width;\n  }\n  while (width > maxWidth && len > 0) {\n    result = text.slice(0, --len);\n    width = context.measureText(result).width;\n  }\n  return { text: text.slice(0, len), width };\n}\n\nexport function sliceText({ text, maxWidth = 240, font = '12px sans-serif' }) {\n  if (!text) {\n    return [];\n  }\n  context.font = font;\n  return text.split('\\n').reduce((acc, cur) => {\n    const lines = [];\n    let str = cur;\n    do {\n      const obj = getSliceLength(str, maxWidth, context);\n      lines.push(obj);\n      str = str.slice(obj.text.length);\n    } while (str.length);\n    return acc.concat(lines);\n  }, []);\n}\n\nexport function getTextBox({\n  text,\n  maxWidth = 240,\n  font = '12px sans-serif',\n  lineHeight = 18\n}) {\n  const result = sliceText({ text, maxWidth, font });\n  const width = Math.max(...result.map(v => v.width));\n  const height = result.length * lineHeight;\n  const value = result.map(v => v.text).join('\\n');\n  return { width, height, value };\n}\n","import {\n  nodeStyle,\n  textStyle,\n  expandNodeBox,\n  statusStyleOptions\n} from '../editor/style';\n\nconst getRectStyle = (status = 0) => {\n  return statusStyleOptions[status] || nodeStyle.default;\n};\n\nexport const expandNodeName = 'expand-node';\n\nexport const registerExpandNode = {\n  name: expandNodeName,\n  // TODO: 开启动画的时候父节点没有重新draw\n  draw(cfg, group) {\n    const { padding } = expandNodeBox;\n    const paddingTop = padding[0];\n    const paddingLeft = padding[3];\n    const { collapsed, children, width, height, _label, status } = cfg;\n\n    const textAttrs = {\n      x: paddingLeft,\n      y:\n        paddingTop +\n        (textStyle.default.lineHeight - textStyle.default.fontSize) / 2,\n      text: _label,\n      ...textStyle.default\n    };\n\n    const labelObj = group.addShape('text', {\n      attrs: textAttrs\n    });\n\n    const rectStyle = getRectStyle(status);\n    group.addShape('rect', {\n      attrs: {\n        width,\n        height,\n        x: 0,\n        y: 0,\n        radius: 4,\n        ...rectStyle\n      }\n    });\n    if (children && children.length) {\n      const cr = 7;\n      const crPadding = 3;\n      const collapseIcon = [\n        ['M', width + crPadding, height / 2],\n        ['h', (cr - crPadding) * 2]\n      ];\n      const expandIcon = [\n        ...collapseIcon,\n        ['M', width + cr, crPadding - cr + height / 2],\n        ['v', (cr - crPadding) * 2]\n      ];\n      group.addShape('circle', {\n        attrs: {\n          x: width + cr,\n          y: height / 2,\n          r: cr,\n          ...nodeStyle.default\n        },\n        className: 'collapse-icon'\n      });\n      group.addShape('path', {\n        attrs: {\n          lineWidth: 2,\n          path: collapsed ? collapseIcon : expandIcon,\n          stroke: nodeStyle.default.stroke\n        },\n        className: 'collapse-icon'\n      });\n    }\n    labelObj.toFront();\n    return group;\n  },\n  setState(name, value, item) {\n    const group = item.getContainer();\n    const model = item.getModel();\n    const shapes = group.get('children');\n    const rectShape = shapes[0];\n    // const textShape = shapes[shapes.length - 1];\n    if (name === 'selected') {\n      if (value) {\n        rectShape.attr(nodeStyle.active);\n      } else {\n        rectShape.attr(getRectStyle(model.status));\n      }\n    }\n  },\n  getAnchorPoints() {\n    return [\n      [0, 0.5], // 左侧中间\n      [1, 0.5] // 右侧中间\n    ];\n  }\n};\n","import { textStyle, expandNodeBox } from '../editor/style';\nimport { getTextBox } from '../utils/drawText';\nimport { expandNodeName } from '../nodeShape/expandNode';\n\nexport const expandNodeModule = {\n  name: expandNodeName,\n\n  getDefaultData() {\n    return {\n      shape: this.name,\n      label: '条件分支'\n    };\n  },\n\n  getChangeSizeKeys() {\n    return ['label'];\n  },\n\n  calNodeSize({ label = '' }) {\n    const text = String(label).trim() || '空';\n    const textBox = getTextBox({\n      text,\n      lineHeight: textStyle.default.lineHeight\n    });\n    const { padding } = expandNodeBox;\n    const width = textBox.width + padding[1] + padding[3];\n    const height = textBox.height + padding[0] + padding[2];\n\n    return { width, height, _label: textBox.value };\n  }\n};\n","import { textStyle, nodeStyle, resultNodeBox } from '../editor/style';\n\nconst levelOptions = ['无', '低', '中', '高'];\n\nexport const resultNodeName = 'result-node';\n\nexport const registerResultNode = {\n  name: resultNodeName,\n  draw(cfg, group) {\n    const { _description, _label, forAutoTest, level, width, height } = cfg;\n    const { lineHeight, fontSize } = textStyle.default;\n    const labelWidth = resultNodeBox.labelWidth;\n    const padding = resultNodeBox.padding;\n    const paddingTop = padding[0];\n    const paddingLeft = padding[3];\n    const marginBottom = resultNodeBox.itemMargin;\n\n    const descTop = paddingTop + (lineHeight - fontSize) / 2;\n\n    const labelTop =\n      _description.split('\\n').length * lineHeight + marginBottom + descTop;\n\n    const autoTestTop =\n      _label.split('\\n').length * lineHeight + marginBottom + labelTop;\n\n    const textShape = {\n      descriptionLabel: {\n        attrs: {\n          x: paddingLeft,\n          y: descTop,\n          text: '描述：'\n        }\n      },\n      descriptionValue: {\n        attrs: {\n          x: labelWidth + paddingLeft,\n          y: descTop,\n          text: _description\n        },\n        cfg: {\n          className: 'description'\n        }\n      },\n      expectedResultLabel: {\n        attrs: {\n          x: paddingLeft,\n          y: labelTop,\n          text: '预期结果：'\n        }\n      },\n      expectedResultValue: {\n        attrs: {\n          x: labelWidth + paddingLeft,\n          y: labelTop,\n          text: _label\n        },\n        cfg: {\n          className: 'label'\n        }\n      },\n      autoTestValue: {\n        attrs: {\n          x: paddingLeft,\n          y: autoTestTop,\n          text: `自动化测试：${forAutoTest ? '是' : '否'}`\n        },\n        cfg: {\n          className: 'forAutoTest'\n        }\n      },\n      levelValue: {\n        attrs: {\n          x: labelWidth + paddingLeft + 16 + 20,\n          y: autoTestTop,\n          text: `优先级: ${levelOptions[level]}`\n        },\n        cfg: {\n          className: 'level'\n        }\n      }\n    };\n\n    const rect = group.addShape('rect', {\n      attrs: {\n        width,\n        height,\n        x: 0,\n        y: 0,\n        radius: 4,\n        ...nodeStyle.default\n      }\n    });\n\n    Object.keys(textShape).forEach(key => {\n      const { attrs, cfg: cfgData } = textShape[key];\n      group.addShape('text', {\n        attrs: {\n          ...textStyle.default,\n          ...attrs\n        },\n        ...cfgData\n      });\n    });\n\n    return rect;\n  },\n  setState(name, value, item) {\n    const group = item.getContainer();\n    const shapes = group.get('children');\n    const rectShape = shapes[0];\n    if (name === 'selected') {\n      if (value) {\n        rectShape.attr(nodeStyle.active);\n      } else {\n        rectShape.attr(nodeStyle.default);\n      }\n    }\n  },\n  getAnchorPoints() {\n    return [\n      [0, 0.5], // 左侧中间\n      [1, 0.5] // 右侧中间\n    ];\n  }\n};\n","import { textStyle, resultNodeBox } from '../editor/style';\nimport { getTextBox } from '../utils/drawText';\nimport { resultNodeName } from '../nodeShape/resultNode';\n\nexport const resultNodeModule = {\n  name: resultNodeName,\n\n  shouldBeAppend(parent) {\n    if (\n      parent &&\n      parent.children &&\n      parent.children.find(v => v.shape === this.name)\n    ) {\n      return false;\n    }\n    return true;\n  },\n\n  // parent\n  shouldAddChild() {\n    return false;\n  },\n\n  getDefaultData() {\n    return {\n      shape: this.name,\n      label: '',\n      description: '',\n      forAutoTest: false,\n      level: 0\n    };\n  },\n\n  getChangeSizeKeys() {\n    return ['label', 'description'];\n  },\n\n  calNodeSize({ label = '', description = '' }) {\n    const labelText = String(label).trim();\n    const descriptionText = String(description).trim();\n    const { lineHeight } = textStyle.default;\n    const { width, labelWidth, padding, itemMargin } = resultNodeBox;\n    const maxTextWidth = width - labelWidth - padding[1] - padding[3];\n    const textBoxs = [labelText, descriptionText].map(v =>\n      getTextBox({\n        lineHeight,\n        maxWidth: maxTextWidth,\n        text: v || '空'\n      })\n    );\n    const textHeight = textBoxs.reduce((acc, cur) => acc + cur.height, 0);\n    const height =\n      textHeight +\n      textBoxs.length * itemMargin +\n      lineHeight +\n      padding[0] +\n      padding[2];\n    return {\n      width,\n      height,\n      _label: textBoxs[0].value,\n      _description: textBoxs[1].value\n    };\n  }\n};\n","import { baseNodeModule } from './baseNode';\nimport { expandNodeModule } from './expandNode';\nimport { resultNodeModule } from './resultNode';\n\nconst nodeModules = {};\n\n// 注册节点操作\nexport const addNodeModule = obj => {\n  if (!obj.name) {\n    // eslint-disable-next-line no-console\n    console.warn('nodeModule need a name');\n    return;\n  }\n  nodeModules[obj.name] = { ...baseNodeModule, ...obj };\n};\n\n// 获取节点的操作\nexport const getNodeModule = name => {\n  return nodeModules[name] || baseNodeModule;\n};\n\naddNodeModule(expandNodeModule);\naddNodeModule(resultNodeModule);\n","import { placeholderNodeStyle } from '../editor/style';\n\nexport const placeholderNodeName = 'placeholder-node';\n\nexport const registerPlaceholderNode = {\n  name: placeholderNodeName,\n  // TODO: 开启动画的时候父节点没有重新draw\n  draw(cfg, group) {\n    const { width, height } = cfg;\n\n    group.addShape('rect', {\n      attrs: {\n        width,\n        height,\n        x: 0,\n        y: 0,\n        radius: 4,\n        ...placeholderNodeStyle\n      }\n    });\n    return group;\n  },\n  getAnchorPoints() {\n    return [\n      [0, 0.5], // 左侧中间\n      [1, 0.5] // 右侧中间\n    ];\n  }\n};\n","import { registerExpandNode } from './expandNode';\nimport { registerResultNode } from './resultNode';\nimport { registerPlaceholderNode } from './placeholderNode';\n\nexport function registerCustomNode(G6) {\n  G6.registerNode(registerExpandNode.name, registerExpandNode);\n  G6.registerNode(registerResultNode.name, registerResultNode);\n  G6.registerNode(registerPlaceholderNode.name, registerPlaceholderNode);\n}\n","export default {\n  getEvents() {\n    return {\n      'node:contextmenu': 'onContextmenu'\n    };\n  },\n  onContextmenu(e) {\n    const self = this;\n    const item = e.item;\n    const graph = self.graph;\n    graph.setCurrent(item.get('id'));\n    graph.emit('ed-node-contextmenu', {\n      target: item,\n      x: e.canvasX,\n      y: e.canvasY\n    });\n  }\n};\n","export default {\n  getEvents() {\n    return {\n      'node:click': 'onClick',\n      'canvas:click': 'onCanvasClick'\n    };\n  },\n  onClick(e) {\n    const self = this;\n    const item = e.item;\n    const graph = self.graph;\n    graph.setCurrent(item.get('id'));\n  },\n  onCanvasClick() {\n    const graph = this.graph;\n    graph.setCurrent(null);\n  }\n};\n","export default {\n  getEvents() {\n    return {\n      'node:dblclick': 'onDblclick'\n    };\n  },\n  // 普通节点编辑\n  onDblclick(e) {\n    const item = e.item;\n    if (item.get('currentShape') !== 'expand-node') {\n      return;\n    }\n    const graph = this.graph;\n    graph.editNode(item);\n  }\n};\n","import { Util } from '@antv/g6';\nimport { resultNodeBox } from '../editor/style';\n\nexport default {\n  getEvents() {\n    return {\n      'node:click': 'onClick'\n    };\n  },\n  onClick(evt) {\n    const item = evt.item;\n    if (item.get('currentShape') !== 'result-node') {\n      return;\n    }\n    const shape = evt.target;\n    const model = item.getModel();\n    const className = shape.get('className');\n    if (className === 'label' || className === 'description') {\n      this.editText(shape, className, model[className]);\n    } else if (className === 'level') {\n      this.editSelect(shape, className, model[className]);\n    } else if (className === 'forAutoTest') {\n      this.graph.updateNode({ [className]: !model.forAutoTest });\n    }\n  },\n  editSelect(shape, key, value) {\n    const graph = this.graph;\n    const bbox = Util.getBBox(shape, shape.getParent());\n    const { x, y } = graph.getCanvasByPoint(bbox.maxX, bbox.maxY);\n    graph.emit('ed-select-edit', {\n      key,\n      value,\n      x,\n      y\n    });\n  },\n  editText(shape, key, value) {\n    const graph = this.graph;\n    const { padding, labelWidth } = resultNodeBox;\n\n    const textWidth =\n      resultNodeBox.width - labelWidth - padding[1] - padding[3];\n\n    const bbox = Util.getBBox(shape, shape.getParent());\n    const width = textWidth + padding[1] + padding[3];\n    const height = bbox.maxY - bbox.minY + padding[0] + padding[2];\n    let { x, y } = graph.getCanvasByPoint(bbox.minX, bbox.minY);\n    x -= padding[1];\n    y -= padding[0];\n    graph.emit('ed-text-edit', {\n      key,\n      value,\n      x,\n      y,\n      width,\n      height\n    });\n  }\n};\n","export default {\n  getDefaultCfg() {\n    return {\n      //  { keyCode: [45, 9], handler: 'addNode' }\n      shortcuts: []\n    };\n  },\n  getEvents() {\n    return {\n      keydown: 'onKeydown'\n    };\n  },\n  onKeydown(evt) {\n    const code = evt.keyCode;\n    const graph = this.graph;\n    const item = this.shortcuts.find(v => {\n      const matchKey = Array.isArray(v.keyCode)\n        ? v.keyCode.indexOf(code) !== -1\n        : v.keyCode === code;\n      return (\n        matchKey &&\n        (typeof v.ctrlKey !== 'boolean' || v.ctrlKey === evt.ctrlKey)\n      );\n    });\n    if (item && item.handler) {\n      if (typeof item.handler === 'string' && graph[item.handler]) {\n        evt.preventDefault();\n        const args = [].concat(item.arguments);\n        graph[item.handler](...args);\n      } else if (typeof item.handler === 'function') {\n        evt.preventDefault();\n        item.handler.call(graph);\n      }\n    }\n  }\n};\n","import { delegateStyle } from '../editor/style';\nimport { traverseTree, guid } from '../utils/base';\nimport { placeholderNodeName } from '../nodeShape/placeholderNode';\n\nexport default {\n  getDefaultCfg() {\n    return {\n      delegateStyle\n    };\n  },\n  getEvents() {\n    return {\n      'node:dragstart': 'onDragStart',\n      mousemove: 'onDrag',\n      drop: 'onDragEnd',\n      'canvas:mouseleave': 'onDragEnd'\n    };\n  },\n  onDragStart(evt) {\n    if (!this.shouldBegin.call(this, evt)) {\n      return;\n    }\n    const graph = this.graph;\n    const model = evt.item.get('model');\n    if (!model.parent) {\n      return;\n    }\n    this.pointDiff = {\n      x: evt.x - model.x,\n      y: evt.y - model.y\n    };\n    const siblings = graph.findDataById(model.parent).children;\n    const index = siblings.findIndex(v => v.id === model.id);\n    siblings.splice(index, 1);\n    graph.changeData();\n    this._createHotAreas2(model);\n    this.target = { ...model, index };\n  },\n  onDrag(evt) {\n    if (!this.target) {\n      return;\n    }\n    if (!this.get('shouldUpdate').call(this, evt)) {\n      return;\n    }\n    this._update(this.target, evt.x, evt.y);\n  },\n  onDragEnd(e) {\n    if (!this.shouldEnd.call(this, e)) {\n      return;\n    }\n    if (!this.target) {\n      return;\n    }\n    const model = this.target;\n    this.target = null;\n    this.hotAreas = null;\n    if (this.delegateShape) {\n      this.delegateShape.remove();\n      this.delegateShape = null;\n    }\n    const graph = this.graph;\n    if (this.placeholder) {\n      const { index, parent } = this.placeholder;\n      const { siblings } = this._removePlaceholder();\n      model.parent = parent;\n      siblings.splice(index, 0, model);\n    } else {\n      const siblings = graph.findDataById(model.parent).children;\n      siblings.splice(model.index, 0, model);\n    }\n    graph.changeData();\n  },\n  _findHotArea(x, y) {\n    return (this.hotAreas || []).find(item => {\n      return (\n        x >= item.minX && x <= item.maxX && y >= item.minY && y <= item.maxY\n      );\n    });\n  },\n  _createHotAreas2(model) {\n    const graph = this.graph;\n    const root = graph.save();\n    const hotAreas = [];\n    const hotWidth = 100;\n    traverseTree(current => {\n      if (!graph.shouldAddChild(model, current)) {\n        return;\n      }\n      const children = current.children || [];\n      const { x, y, width, height } = current;\n      const parent = current.id;\n      if (children.length === 0) {\n        const minX = x + width;\n        const maxX = minX + hotWidth;\n        const minY = y;\n        const maxY = y + height;\n        hotAreas.push({ minX, maxX, minY, maxY, parent, index: 0 });\n      } else {\n        let lastY = children[0].y - 20;\n        children.forEach((child, index) => {\n          const minX = child.x - 20;\n          const maxX = child.x + hotWidth;\n          const minY = lastY;\n          const maxY = child.y + child.height / 2;\n          lastY = maxY;\n          hotAreas.push({ minX, maxX, minY, maxY, parent, index });\n        });\n        const lastChild = children[children.length - 1];\n        const minX = lastChild.x - 20;\n        const maxX = lastChild.x + hotWidth;\n        const minY = lastY;\n        const maxY = lastY + lastChild.height / 2 + 20;\n        hotAreas.push({\n          minX,\n          maxX,\n          minY,\n          maxY,\n          parent,\n          index: children.length\n        });\n      }\n    }, root);\n    this.hotAreas = hotAreas;\n  },\n  _update(item, x, y) {\n    const graph = this.graph;\n    this._updateDelegate(item, x, y);\n    const hotArea = this._findHotArea(x, y);\n    if (hotArea) {\n      this._updatePlaceholder(item, hotArea.parent, hotArea.index);\n      graph.changeData();\n    } else if (this.placeholder) {\n      this._removePlaceholder();\n      graph.changeData();\n    }\n  },\n  _updatePlaceholder(item, parent, index) {\n    if (this.placeholder) {\n      const oldParent = this.placeholder.parent;\n      const oldIndex = this.placeholder.index;\n      if (oldParent === parent && oldIndex === index) {\n        return;\n      }\n      const { placeholder } = this._removePlaceholder();\n      this._createPlaceholder(item, parent, index, placeholder);\n    } else {\n      this._createPlaceholder(item, parent, index);\n    }\n  },\n  _removePlaceholder() {\n    const graph = this.graph;\n    const { parent, index } = this.placeholder;\n    const siblings = graph.findDataById(parent).children;\n    const placeholder = siblings.splice(index, 1)[0];\n    this.placeholder = null;\n    return { placeholder, siblings };\n  },\n  _createPlaceholder(item, parent, index, placeholder) {\n    const graph = this.graph;\n    if (!placeholder) {\n      const { width, height } = item;\n      placeholder = {\n        shape: placeholderNodeName,\n        id: guid(),\n        parent,\n        width,\n        height\n      };\n    }\n    this.placeholder = {\n      parent,\n      index\n    };\n    const parentData = graph.findDataById(parent);\n    if (!parentData.children) {\n      parentData.children = [];\n    }\n    parentData.children.splice(index, 0, placeholder);\n  },\n  _updateDelegate(item, x, y) {\n    x -= this.pointDiff.x;\n    y -= this.pointDiff.y;\n    if (!this.delegateShape) {\n      this.delegateShape = this._createDelegate(item, x, y);\n    }\n    this.delegateShape.attr({ x, y });\n    this.graph.paint();\n  },\n  _createDelegate(item, x, y) {\n    const { width, height } = item;\n    const parent = this.graph.get('group');\n    const attrs = this.delegateStyle;\n    const delegateShape = parent.addShape('rect', {\n      attrs: {\n        width,\n        height,\n        x,\n        y,\n        ...attrs\n      }\n    });\n    delegateShape.set('capture', false);\n    this.delegateShape = delegateShape;\n    return delegateShape;\n  }\n};\n","import edContextmenu from './edContextmenu';\nimport edClickSelect from './edClickSelect';\nimport edEdit from './edEdit';\nimport edResultEdit from './edResultEdit';\nimport edShortcut from './edShortcut';\nimport edDragNode from './edDragNode';\n\nexport function registerCustomBehavior(G6) {\n  G6.registerBehavior('ed-contextmenu', edContextmenu);\n  G6.registerBehavior('ed-click-select', edClickSelect);\n  G6.registerBehavior('ed-edit', edEdit);\n  G6.registerBehavior('ed-result-edit', edResultEdit);\n  G6.registerBehavior('ed-shortcut', edShortcut);\n  G6.registerBehavior('ed-drag-node', edDragNode);\n}\n","/* eslint-disable class-methods-use-this */\nimport G6 from '@antv/g6/src/index';\nimport Hierarchy from '@antv/hierarchy';\nimport { edgeStyle } from './style';\nimport { getNodeModule } from '../nodeModules';\nimport { guid } from '../utils/base';\nimport { registerCustomNode } from '../nodeShape';\nimport { registerCustomBehavior } from '../behavior';\n\nregisterCustomNode(G6);\nregisterCustomBehavior(G6);\n\nconst defaultData = {\n  label: '我是根节点'\n};\n\nclass Editor extends G6.TreeGraph {\n  constructor({ container, data }) {\n    super({\n      container,\n      width: container.offsetWidth,\n      height: container.offsetHeight,\n      animate: false,\n      layout: function layout(val) {\n        return Hierarchy.compactBox(val, {\n          direction: 'LR',\n          getId: function getId(d) {\n            return d.id;\n          },\n          getWidth(cfg) {\n            return cfg.width;\n          },\n          getHeight(cfg) {\n            return cfg.height;\n          },\n          getVGap: function getVGap() {\n            return 5;\n          },\n          getHGap: function getHGap() {\n            return 40;\n          }\n        });\n      },\n      defaultNode: {\n        shape: 'expand-node'\n      },\n      defaultEdge: {\n        shape: 'cubic-horizontal'\n      },\n      edgeStyle,\n      modes: {\n        default: [\n          {\n            type: 'collapse-expand',\n            shouldBegin(evt) {\n              const target = evt.target;\n              return target.get('className') === 'collapse-icon';\n            }\n          },\n          {\n            type: 'ed-click-select',\n            shouldUpdate(evt) {\n              const target = evt.target;\n              return target.get('className') !== 'collapse-icon';\n            }\n          },\n          {\n            type: 'ed-shortcut',\n            shortcuts: [\n              { keyCode: [45, 9], handler: 'addNode' }, // insert tab\n              { keyCode: 46, handler: 'deleteNode' }, // delete\n              // {\n              //   keyCode: 35,\n              //   handler: 'addNode',\n              //   arguments: 'result-node'\n              // }, // end\n              { keyCode: 32, handler: 'moveToCenter' }, // space\n              { keyCode: 67, ctrlKey: true, handler: 'cloneNode' }, // ctrl + c\n              { keyCode: 86, ctrlKey: true, handler: 'pasteNode' } // ctrl + v\n            ]\n          },\n          {\n            type: 'ed-drag-node'\n          },\n          'ed-contextmenu',\n          'ed-edit',\n          'ed-result-edit',\n          'drag-canvas',\n          'zoom-canvas'\n        ],\n        lock: []\n      }\n    });\n    this.currentId = null;\n    this.clipboardId = null;\n    this.read(this.parseData(data || defaultData));\n    this.moveToCenter();\n    // 加入到extendEvents, destroy 的时候 就会 remove\n    this.get('eventController').extendEvents.push(this._bindForceEvent());\n    if (process.env.NODE_ENV === 'development') {\n      window.treeEditor = this;\n    }\n  }\n\n  // 初始化数据\n  parseData(node, parent) {\n    node.parent = parent;\n    if (!node.shape) {\n      node.shape = 'expand-node';\n    }\n    const result = getNodeModule(node.shape).create(node);\n    if (result.children) {\n      result.children.forEach(v => this.parseData(v, result.id));\n    }\n    return result;\n  }\n\n  setCurrent(id) {\n    if (this.currentId === id) {\n      return;\n    }\n    const autoPaint = this.get('autoPaint');\n    this.setAutoPaint(false);\n    if (this.currentId) {\n      const oldItem = this.findById(this.currentId);\n      if (oldItem) {\n        this.setItemState(oldItem, 'selected', false);\n      }\n    }\n    if (id) {\n      const item = this.findById(id);\n      if (item) {\n        this.setItemState(item, 'selected', true);\n      }\n    }\n    this.currentId = id;\n    this.setAutoPaint(autoPaint);\n    this.paint();\n  }\n\n  shouldAddChild(data, parentData) {\n    const parentModule = getNodeModule(parentData.shape);\n    const dataModule = getNodeModule(data.shape);\n    return (\n      parentModule.shouldAddChild(data) && dataModule.shouldBeAppend(parentData)\n    );\n  }\n\n  addChildWithValidate(data, parent) {\n    const parentData = this.findDataById(parent);\n    if (!this.shouldAddChild(data, parentData)) {\n      return false;\n    }\n    if (!parentData.children) {\n      parentData.children = [];\n    }\n    parentData.children.push(data);\n    this.changeData();\n    return true;\n  }\n\n  addNode(shape = 'expand-node') {\n    if (this.currentId) {\n      const data = getNodeModule(shape).create({\n        parent: this.currentId\n      });\n      const success = this.addChildWithValidate(data, this.currentId);\n      if (success) {\n        this.setCurrent(data.id);\n        this.editNode();\n      }\n    }\n  }\n\n  deleteNode() {\n    if (this.currentId) {\n      const id = this.currentId;\n      this.setCurrent(null);\n      this.removeChild(id);\n    }\n  }\n\n  updateNode(obj) {\n    if (this.currentId) {\n      const currentModel = this.findDataById(this.currentId);\n      if (currentModel) {\n        const oldWidth = currentModel.width;\n        const oldHeight = currentModel.height;\n        const newModel = getNodeModule(currentModel.shape).update(\n          currentModel,\n          obj\n        );\n        const { width, height } = newModel;\n        if (width !== oldWidth || height !== oldHeight) {\n          this.changeData();\n        } else {\n          this.update(this.currentId, newModel);\n        }\n      }\n    }\n  }\n\n  editNode(item) {\n    item = item || this.findById(this.currentId);\n    const model = item.getModel();\n    const { x, y } = this.getCanvasByPoint(model.x, model.y);\n    const zoom = this.getZoom();\n    this.emit('ed-text-edit', {\n      x,\n      y,\n      zoom,\n      width: model.width,\n      height: model.height,\n      key: 'label',\n      value: model.label\n    });\n  }\n\n  cloneNode() {\n    if (this.currentId) {\n      this.clipboardId = this.currentId;\n    }\n  }\n\n  pasteNode() {\n    if (this.currentId && this.clipboardId) {\n      const currentModel = this.findDataById(this.clipboardId);\n      if (currentModel) {\n        const data = this._cloneNode(currentModel, this.currentId);\n        this.addChildWithValidate(data, this.currentId);\n      }\n    }\n  }\n\n  _cloneNode(node, parent) {\n    const result = { ...node, id: guid(), parent };\n    if (Array.isArray(result.children)) {\n      result.children = result.children.map(v => this._cloneNode(v, result.id));\n    }\n    return result;\n  }\n\n  _bindForceEvent() {\n    let timer;\n    const windowForceResizeEvent = () => {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(() => {\n        this.forceFit();\n      }, 200);\n    };\n    return G6.Util.addEventListener(window, 'resize', windowForceResizeEvent);\n  }\n\n  forceFit() {\n    const container = this.get('container');\n    const width = container.offsetWidth;\n    const height = container.offsetHeight;\n    this.changeSize(width, height);\n  }\n\n  moveToCenter() {\n    const tree = this;\n    const width = tree.get('width');\n    const height = tree.get('height');\n    const viewCenter = {\n      x: width / 2,\n      y: height / 2\n    };\n    const group = tree.get('group');\n    group.resetMatrix();\n    const bbox = group.getBBox();\n    const groupCenter = {\n      x: bbox.x + bbox.width / 2,\n      y: bbox.y + bbox.height / 2\n    };\n    tree.translate(viewCenter.x - groupCenter.x, viewCenter.y - groupCenter.y);\n  }\n}\n\nexport default Editor;\n","import React, { useRef, useEffect, useState } from 'react';\nimport EditorContext from './EditorContext';\nimport ContextMenu from './ContextMenu';\nimport EditorInput from './EditorInput';\nimport Editor from './editor';\n\nconst { Provider } = EditorContext;\n\nfunction TreeEditor() {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [editor, setEditor] = useState<any>(null);\n\n  useEffect(() => {\n    const ed: any = new Editor({ container: containerRef.current });\n    setEditor(ed);\n    return () => {\n      ed.destroy();\n    };\n  }, []);\n\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        position: 'relative',\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden'\n      }}\n    >\n      <Provider value={editor}>\n        {editor && (\n          <>\n            <ContextMenu />\n            <EditorInput />\n          </>\n        )}\n      </Provider>\n    </div>\n  );\n}\n\nexport default TreeEditor;\n"],"names":["Overlay","OverlayMenu","OverlayInput","activeColor","edgeStyle","default","stroke","nodeStyle","fill","active","textStyle","fontSize","fontFamily","textAlign","textBaseline","lineHeight","expandNodeBox","padding","resultNodeBox","width","itemMargin","labelWidth","placeholderNodeStyle","delegateStyle","fillOpacity","strokeOpacity","lineDash","radius","statusStyleOptions","guid","replace","c","r","Math","random","v","toString","traverseTree","fn","data","parent","i","Array","isArray","children","forEach","child","index","baseNodeModule","name","shouldBeAppend","shouldAddChild","getChangeSizeKeys","calNodeSize","getDefaultData","create","defaultData","id","Object","assign","update","oldValue","value","needCalNode","some","key","undefined","size","context","document","createElement","getContext","getSliceLength","text","maxWidth","measureText","len","floor","length","result","slice","sliceText","font","split","reduce","acc","cur","lines","str","obj","push","concat","getTextBox","max","map","height","join","getRectStyle","status","expandNodeName","registerExpandNode","draw","cfg","group","paddingTop","paddingLeft","collapsed","_label","textAttrs","x","y","labelObj","addShape","attrs","rectStyle","cr","crPadding","collapseIcon","expandIcon","className","lineWidth","path","toFront","setState","item","getContainer","model","getModel","shapes","get","rectShape","attr","getAnchorPoints","expandNodeModule","shape","label","String","trim","textBox","levelOptions","resultNodeName","registerResultNode","_description","forAutoTest","level","marginBottom","descTop","labelTop","autoTestTop","textShape","descriptionLabel","descriptionValue","expectedResultLabel","expectedResultValue","autoTestValue","levelValue","rect","keys","cfgData","resultNodeModule","find","description","labelText","descriptionText","maxTextWidth","textBoxs","textHeight","nodeModules","addNodeModule","console","warn","getNodeModule","placeholderNodeName","registerPlaceholderNode","registerCustomNode","G6","registerNode","getEvents","onContextmenu","e","self","graph","setCurrent","emit","target","canvasX","canvasY","onClick","onCanvasClick","onDblclick","editNode","evt","editText","editSelect","updateNode","bbox","Util","getBBox","getParent","getCanvasByPoint","maxX","maxY","textWidth","minY","minX","getDefaultCfg","shortcuts","keydown","onKeydown","code","keyCode","matchKey","indexOf","ctrlKey","handler","preventDefault","args","arguments","call","mousemove","drop","onDragStart","shouldBegin","pointDiff","siblings","findDataById","findIndex","splice","changeData","_createHotAreas2","onDrag","_update","onDragEnd","shouldEnd","hotAreas","delegateShape","remove","placeholder","_removePlaceholder","_findHotArea","root","save","hotWidth","current","lastY","lastChild","_updateDelegate","hotArea","_updatePlaceholder","oldParent","oldIndex","_createPlaceholder","parentData","_createDelegate","paint","set","registerCustomBehavior","registerBehavior","edContextmenu","edClickSelect","edEdit","edResultEdit","edShortcut","edDragNode","Editor","container","offsetWidth","offsetHeight","animate","layout","val","Hierarchy","compactBox","direction","getId","d","getWidth","getHeight","getVGap","getHGap","defaultNode","defaultEdge","modes","type","shouldUpdate","lock","currentId","clipboardId","read","parseData","moveToCenter","extendEvents","_bindForceEvent","process","env","NODE_ENV","window","treeEditor","node","autoPaint","setAutoPaint","oldItem","findById","setItemState","parentModule","dataModule","success","addChildWithValidate","removeChild","currentModel","oldWidth","oldHeight","newModel","zoom","getZoom","_cloneNode","timer","windowForceResizeEvent","clearTimeout","setTimeout","forceFit","addEventListener","changeSize","tree","viewCenter","resetMatrix","groupCenter","translate","TreeGraph"],"mappings":"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"}